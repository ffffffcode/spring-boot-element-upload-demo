<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<!-- import CSS -->
<link rel="stylesheet"
	href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
</head>
<body>
	<div id="app">
		<el-upload class="upload-demo" ref="upload"
			action="https://jsonplaceholder.typicode.com/posts/"
			:on-change="handleChange" :on-remove="handleRemove"
			:file-list="fileList" :auto-upload="false"> <el-button
			slot="trigger" size="small" type="primary">选取文件</el-button> <el-button
			style="margin-left: 10px;" size="small" type="success"
			@click="submitUpload">上传到服务器</el-button>
		<div slot="tip" class="el-upload__tip">只能上传jpg/png文件，且不超过500kb</div>
		</el-upload>
	</div>
</body>
<!-- import Vue before Element -->
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<!-- import JavaScript -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
	new Vue({
		el : '#app',
		data : function() {
			return {
				fileList: [],
				formData: new FormData()
			}
		},
	    methods: {
	        submitUpload() {
	        	 this.formData.append('name', 'uppppppp');
	        	axios.post("/upload",this.formData);
	        },
	        handleChange(file,fileList){
	        	for(var i = 0; i< fileList.length;i++){
	        		this.formData.append('file', fileList[i].raw, fileList[i].name);
	        	}
	        	 // this.formData.append('file', file.raw, file.name);
	        },
	        handleRemove(file, fileList) {
	        	this.formData.delete('file');
	        },
	      }
	})
</script>
</html>